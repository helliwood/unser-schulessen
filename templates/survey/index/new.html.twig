{% extends 'base.html.twig' %}

{% block body %}
    <div>
        <h1>Neue Umfrage</h1>
        <div class="panel">
            <div class="row">
                <div class="d-none d-xl-block col-xl-1"></div>
                <div class="col-xl-10">
                    <form-manipulator
                            :manipulations="[
                            {
                                watch: 'select[name=survey\\[type\\]]',
                                if: {
                                    'open': {elem: '#voucherField', style: {display: 'none'}},
                                    'voucher': {elem: '#voucherField', style: {display: 'block'}}
                                }
                            }]">
                        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
                        {{ form_row(form.name) }}
                        {{ form_row(form.introduction) }}
                        {{ form_row(form.type) }}
                        <div id="voucherField" style="display: none;">
                            {{ form_row(form.numberOfVoucher) }}
                        </div>
                        {{ form_row(form.closesAt) }}
                        {{ form_row(form.template) }}
                        {% if isAdmin %}
                            {{ form_row(form.surveyTemplate) }}
                        {% endif %}
                        <div class="form-group row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-9 d-flex">
                                <button type="submit" id="save" name="save" class="btn-primary btn">Speichern</button>
                            </div>
                        </div>
                        {{ form_end(form) }}
                    </form-manipulator>
                </div>
                <div class="d-none d-xl-block col-xl-1"></div>
            </div>
        </div>
    </div>
{% endblock %}
